{"version":3,"sources":["all.js"],"names":["activity","document","getElementById","activityDef","activityCard","addEventListener","getAttribute","indexOf","classList","add","remove","dogEating","toggle","togglePopup","console","log","element","type","querySelector","contains","prev","next","circleItems","querySelectorAll","circleItemNumbers","progress","actives","dogScooter","currentActive","itemNum","nextUpdate","prevUpdate","progressWidth","widthNum","style","height","bottom","transform","btnDisable","disabled","load","$html","switcher","setToggleCheck","check","checked","setDarkMode","state","hasClass","toggleDarkMode","useDark","window","matchMedia","addListener","evt","matches","darkModeState","switchListener"],"mappings":"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","file":"all.js","sourcesContent":["// dog-eating\nconst activity = document.getElementById('activity-popover');\nconst activityDef = document.getElementById('activity-popover-defaule');\nconst activityCard = document.getElementById('activity-popover-card')\nactivityDef.addEventListener('click', () => {\n  if (activityDef.getAttribute('class').indexOf('d-none') === -1) {\n    activityDef.classList.add('d-none');\n    activityCard.classList.remove('d-none');\n  }\n});\nconst dogEating = document.getElementById('dog-eating');\ndogEating.addEventListener('click', () => {\n  activity.classList.toggle('d-none');\n});\n\n// sticky-popup\ndocument.getElementById(\"sticky-popup\").addEventListener(\"click\", togglePopup);\n\n// document.querySelectorAll('#sticky-popup').forEach(item => {\n//   item.addEventListener('click', togglePopup(e));\n// })\n// let stickyPopup = document.querySelectorAll(\".sticky-popup\");\n// for( let i = 0 ; i < stickyPopup.length ; i++) {\n//   stickyPopup[i].addEventListener(\"click\", togglePopup(stickyPopup[i]));\n// }\n\nfunction togglePopup() {\n  console.log('click');\n  let element = document.getElementById(\"sticky-popup\");\n  element.classList.toggle(\"open\");\n  // e.classList.toggle(\"open\");\n  \n  let type = document.querySelector(\".dot-menu\");\n  if(type.classList.contains(\"active\") === true){\n      type.classList.remove(\"active\");\n    }else{\n      type.classList.add(\"active\");\n    }\n}\n\n// dogScooter\nconst prev = document.getElementById('prev');\nconst next = document.getElementById('next');\nconst circleItems = document.querySelectorAll('.circle-item');\nconst circleItemNumbers = document.querySelectorAll('.circle-item-number');\nconst progress = document.getElementById('progress');\nconst actives = document.querySelectorAll('.active');\nconst dogScooter = document.getElementById('dog-scooter');\n\nlet currentActive = 1;\nlet itemNum = 4;\n\n// next按鈕行為\nnext.addEventListener('click', () => {\n  currentActive++;\n  // 讓currentActive數值與 itemNum 同步\n  if (currentActive > itemNum) { \n    currentActive = itemNum;\n  }\n  nextUpdate();\n})\n\n// prev按鈕行為\nprev.addEventListener('click', () => {\n  currentActive--;\n  // 讓currentActive數值與 itemNum 同步\n  if (currentActive < 1) {\n    currentActive = 1;\n  }\n  prevUpdate();\n})\n\nfunction progressWidth() {\n  // 計算progress的長度（預設為0%）初始值：分母是4 - 1，分子是1 - 1\n  // 第一次按next: 分母是4 - 1，分子是2 - 1，相當於33%\n  // 第二次按next: 分母是4 - 1，分子是3 - 1，相當於66%\n  // 第三次按next: 分母是4 - 1，分子是4 - 1，相當於100%\n  let widthNum = (currentActive - 1) / (itemNum - 1) * 100\n  progress.style.height = widthNum + '%';\n  // dogScooter.style.bottom = widthNum + '%';\n  dogScooter.style.bottom = `calc(${widthNum}% - ${30 + (currentActive-1) * 10}px)`;\n  // dogScooter.style.transform = `translateY(-${widthNum}%) scaleX(-1)`;\n  dogScooter.style.transform = `scaleX(-1)`;\n}\n\nfunction btnDisable() {\n  // 判斷何時要將按鈕做disable處理\n  if (currentActive <= 1) {\n    prev.disabled = true;\n  } else if (currentActive === itemNum) {\n    next.disabled = true;\n  } else {\n    prev.disabled = false;\n    next.disabled = false;\n  }\n}\n\nfunction prevUpdate() {\n  // set finish\n  circleItems[currentActive-1].classList.remove('done');\n  circleItems[currentActive-1].classList.add('active');\n  circleItemNumbers[currentActive-1].classList.add('invisible');\n  circleItemNumbers[currentActive-1].classList.add('done');\n  circleItemNumbers[currentActive-1].classList.remove('done');\n  // set now\n  circleItems[currentActive].classList.remove('active');\n  circleItemNumbers[currentActive].classList.remove('invisible');\n  progressWidth ();\n  btnDisable();\n}\n\nfunction nextUpdate() {\n  // set finish\n  circleItems[currentActive-2].classList.add('done');\n  circleItems[currentActive-2].classList.remove('active');\n  circleItemNumbers[currentActive-2].classList.remove('invisible');\n  circleItemNumbers[currentActive-2].classList.add('done');\n  // set now\n  circleItemNumbers[currentActive-1].classList.add('invisible');\n  circleItems[currentActive-1].classList.add('active');\n\n  progressWidth();\n  btnDisable();\n}\n\n// TODO: color-theme\nfunction load() {\n\tconst $html = document.querySelector('html');\n\tconst switcher = document.querySelector(\"#color-theme\");\n\n\t// 透過 useDark.matches 判斷是否為暗模式，將 boolean 寫入 Toggle checked 屬性\n\tfunction setToggleCheck(check) {\n\t\tswitcher.checked = check;\n\t}\n\n\tfunction setDarkMode(state) {\n\t\tconst hasClass = $html.classList.contains('dark-mode');\n\t\tif (state) {\n\t\t\tif (!hasClass) {\n\t\t\t\t$html.classList.toggle('dark-mode')\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (hasClass) {\n\t\t\t\t$html.classList.remove('dark-mode')\n\t\t\t}\n\t\t}\n\t}\n\n\t// state 代表使用者裝置是否為深色主題\n\tfunction toggleDarkMode(state) {\n\t\tsetToggleCheck(state);\n\t\tsetDarkMode(state);\n\t}\n\n\tconst useDark = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\n\t// user change prefers-color-scheme trigger the listener\n\tuseDark.addListener(function(evt) {\n\t\tconsole.log(evt);\n\t\ttoggleDarkMode(evt.matches);\n\t});\n\n\t// first page loading\n\tlet darkModeState = useDark.matches;\n\ttoggleDarkMode(darkModeState);\n\n\t// toggle \n\tfunction switchListener() {\n\t\tdarkModeState = !darkModeState;\n\t\ttoggleDarkMode(darkModeState);\n\t}\n\n\t// toggle listener\n\tswitcher.addEventListener(\"click\", switchListener);\n}\ndocument.addEventListener(\"DOMContentLoaded\", load);"]}