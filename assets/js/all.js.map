{"version":3,"sources":["all.js"],"names":["document","getElementById","addEventListener","togglePopup","console","log","element","classList","toggle","type","querySelector","contains","remove","add","prev","next","circleItems","querySelectorAll","circleItemNumbers","progress","actives","dogScooter","currentActive","itemNum","nextUpdate","prevUpdate","progressWidth","widthNum","style","height","bottom","transform","btnDisable","disabled","load","$html","switcher","setToggleCheck","check","checked","setDarkMode","state","hasClass","toggleDarkMode","useDark","window","matchMedia","addListener","evt","matches","darkModeState","switchListener"],"mappings":"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","file":"all.js","sourcesContent":["// TODO: sticky-popup\ndocument.getElementById(\"sticky-popup\").addEventListener(\"click\", togglePopup);\n\n// document.querySelectorAll('#sticky-popup').forEach(item => {\n//   item.addEventListener('click', togglePopup(e));\n// })\n// var stickyPopup = document.querySelector(\"#sticky-popup\");\n// for( let i = 0 ; i < stickyPopup.length ; i++) {\n//   stickyPopup[i].addEventListener(\"click\", togglePopup());\n// }\n\nfunction togglePopup() {\n  console.log('click');\n  var element = document.getElementById(\"sticky-popup\");\n  element.classList.toggle(\"open\");\n  // item.classList.toggle(\"open\");\n  \n  var type = document.querySelector(\".dot-menu\");\n  if(type.classList.contains(\"active\") === true){\n      type.classList.remove(\"active\");\n    }else{\n      type.classList.add(\"active\");\n    }\n}\n\n// TODO: dogScooter\nconst prev = document.getElementById('prev');\nconst next = document.getElementById('next');\nconst circleItems = document.querySelectorAll('.circle-item');\nconst circleItemNumbers = document.querySelectorAll('.circle-item-number');\nconst progress = document.getElementById('progress');\nconst actives = document.querySelectorAll('.active');\nconst dogScooter = document.getElementById('dog-scooter');\n\nlet currentActive = 1;\nlet itemNum = 4;\n\n// next按鈕行為\nnext.addEventListener('click', () => {\n  currentActive++;\n  // 讓currentActive數值與 itemNum 同步\n  if (currentActive > itemNum) { \n    currentActive = itemNum;\n  }\n  nextUpdate();\n})\n\n// prev按鈕行為\nprev.addEventListener('click', () => {\n  currentActive--;\n  // 讓currentActive數值與 itemNum 同步\n  if (currentActive < 1) {\n    currentActive = 1;\n  }\n  prevUpdate();\n})\n\nfunction progressWidth() {\n  // 計算progress的長度（預設為0%）初始值：分母是4 - 1，分子是1 - 1\n  // 第一次按next: 分母是4 - 1，分子是2 - 1，相當於33%\n  // 第二次按next: 分母是4 - 1，分子是3 - 1，相當於66%\n  // 第三次按next: 分母是4 - 1，分子是4 - 1，相當於100%\n  let widthNum = (currentActive - 1) / (itemNum - 1) * 100\n  progress.style.height = widthNum + '%';\n  // dogScooter.style.bottom = widthNum + '%';\n  dogScooter.style.bottom = `calc(${widthNum}% - ${30 + (currentActive-1) * 10}px)`;\n  // dogScooter.style.transform = `translateY(-${widthNum}%) scaleX(-1)`;\n  dogScooter.style.transform = `scaleX(-1)`;\n}\n\nfunction btnDisable() {\n  // 判斷何時要將按鈕做disable處理\n  if (currentActive <= 1) {\n    prev.disabled = true;\n  } else if (currentActive === itemNum) {\n    next.disabled = true;\n  } else {\n    prev.disabled = false;\n    next.disabled = false;\n  }\n}\n\nfunction prevUpdate() {\n  // set finish\n  circleItems[currentActive-1].classList.remove('done');\n  circleItems[currentActive-1].classList.add('active');\n  circleItemNumbers[currentActive-1].classList.add('invisible');\n  circleItemNumbers[currentActive-1].classList.add('done');\n  circleItemNumbers[currentActive-1].classList.remove('done');\n  // set now\n  circleItems[currentActive].classList.remove('active');\n  circleItemNumbers[currentActive].classList.remove('invisible');\n  progressWidth ();\n  btnDisable();\n}\n\nfunction nextUpdate() {\n  // set finish\n  circleItems[currentActive-2].classList.add('done');\n  circleItems[currentActive-2].classList.remove('active');\n  circleItemNumbers[currentActive-2].classList.remove('invisible');\n  circleItemNumbers[currentActive-2].classList.add('done');\n  // set now\n  circleItemNumbers[currentActive-1].classList.add('invisible');\n  circleItems[currentActive-1].classList.add('active');\n\n  progressWidth();\n  btnDisable();\n}\n\n// TODO: color-theme\nfunction load() {\n\tconst $html = document.querySelector('html');\n\tconst switcher = document.querySelector(\"#color-theme\");\n\n\t// 透過 useDark.matches 判斷是否為暗模式，將 boolean 寫入 Toggle checked 屬性\n\tfunction setToggleCheck(check) {\n\t\tswitcher.checked = check;\n\t}\n\n\tfunction setDarkMode(state) {\n\t\tconst hasClass = $html.classList.contains('dark-mode');\n\t\tif (state) {\n\t\t\tif (!hasClass) {\n\t\t\t\t$html.classList.toggle('dark-mode')\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (hasClass) {\n\t\t\t\t$html.classList.remove('dark-mode')\n\t\t\t}\n\t\t}\n\t}\n\n\t// state 代表使用者裝置是否為深色主題\n\tfunction toggleDarkMode(state) {\n\t\tsetToggleCheck(state);\n\t\tsetDarkMode(state);\n\t}\n\n\tconst useDark = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\n\t// user change prefers-color-scheme trigger the listener\n\tuseDark.addListener(function(evt) {\n\t\tconsole.log(evt);\n\t\ttoggleDarkMode(evt.matches);\n\t});\n\n\t// first page loading\n\tlet darkModeState = useDark.matches;\n\ttoggleDarkMode(darkModeState);\n\n\t// toggle \n\tfunction switchListener() {\n\t\tdarkModeState = !darkModeState;\n\t\ttoggleDarkMode(darkModeState);\n\t}\n\n\t// toggle listener\n\tswitcher.addEventListener(\"click\", switchListener);\n}\n"]}